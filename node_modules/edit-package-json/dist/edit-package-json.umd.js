/**
 * @name edit-package-json
 * @fileoverview Edit package.json without parsing, as string, to keep the formatting intact
 * @version 0.7.2
 * @author Roy Revelt, Codsen Ltd
 * @license MIT
 * {@link https://codsen.com/os/edit-package-json/}
 */

"use strict";var editPackageJson=(()=>{var Dt=Object.create;var B=Object.defineProperty;var Rt=Object.getOwnPropertyDescriptor;var Wt=Object.getOwnPropertyNames,ve=Object.getOwnPropertySymbols,Ct=Object.getPrototypeOf,je=Object.prototype.hasOwnProperty,Vt=Object.prototype.propertyIsEnumerable;var Ne=(e,t,n)=>t in e?B(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,S=(e,t)=>{for(var n in t||(t={}))je.call(t,n)&&Ne(e,n,t[n]);if(ve)for(var n of ve(t))Vt.call(t,n)&&Ne(e,n,t[n]);return e};var Ie=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Jt=(e,t)=>{for(var n in t)B(e,n,{get:t[n],enumerable:!0})},xe=(e,t,n,i)=>{if(t&&typeof t=="object"||typeof t=="function")for(let r of Wt(t))!je.call(e,r)&&r!==n&&B(e,r,{get:()=>t[r],enumerable:!(i=Rt(t,r))||i.enumerable});return e};var Pe=(e,t,n)=>(n=e!=null?Dt(Ct(e)):{},xe(t||!e||!e.__esModule?B(n,"default",{value:e,enumerable:!0}):n,e)),Ft=e=>xe(B({},"__esModule",{value:!0}),e);var Ce=Ie((Fr,We)=>{var Ht="[object Object]";function Mt(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch(n){}return t}function kt(e,t){return function(n){return e(t(n))}}var Ut=Function.prototype,De=Object.prototype,Re=Ut.toString,Lt=De.hasOwnProperty,Bt=Re.call(Object),qt=De.toString,Gt=kt(Object.getPrototypeOf,Object);function Kt(e){return!!e&&typeof e=="object"}function Qt(e){if(!Kt(e)||qt.call(e)!=Ht||Mt(e))return!1;var t=Gt(e);if(t===null)return!0;var n=Lt.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Re.call(n)==Bt}We.exports=Qt});var Ot=Ie((q,V)=>{var Yt=200,Ke="__lodash_hash_undefined__",Qe=9007199254740991,ge="[object Arguments]",Xt="[object Array]",Ye="[object Boolean]",Xe="[object Date]",Zt="[object Error]",me="[object Function]",Ze="[object GeneratorFunction]",X="[object Map]",ze="[object Number]",be="[object Object]",Ve="[object Promise]",et="[object RegExp]",Z="[object Set]",tt="[object String]",nt="[object Symbol]",le="[object WeakMap]",rt="[object ArrayBuffer]",z="[object DataView]",it="[object Float32Array]",ut="[object Float64Array]",ot="[object Int8Array]",lt="[object Int16Array]",at="[object Int32Array]",st="[object Uint8Array]",ft="[object Uint8ClampedArray]",ct="[object Uint16Array]",$t="[object Uint32Array]",zt=/[\\^$.*+?()[\]{}|]/g,en=/\w*$/,tn=/^\[object .+?Constructor\]$/,nn=/^(?:0|[1-9]\d*)$/,h={};h[ge]=h[Xt]=h[rt]=h[z]=h[Ye]=h[Xe]=h[it]=h[ut]=h[ot]=h[lt]=h[at]=h[X]=h[ze]=h[be]=h[et]=h[Z]=h[tt]=h[nt]=h[st]=h[ft]=h[ct]=h[$t]=!0;h[Zt]=h[me]=h[le]=!1;var rn=typeof global=="object"&&global&&global.Object===Object&&global,un=typeof self=="object"&&self&&self.Object===Object&&self,j=rn||un||Function("return this")(),gt=typeof q=="object"&&q&&!q.nodeType&&q,Je=gt&&typeof V=="object"&&V&&!V.nodeType&&V,on=Je&&Je.exports===gt;function ln(e,t){return e.set(t[0],t[1]),e}function an(e,t){return e.add(t),e}function sn(e,t){for(var n=-1,i=e?e.length:0;++n<i&&t(e[n],n,e)!==!1;);return e}function fn(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}function mt(e,t,n,i){var r=-1,u=e?e.length:0;for(i&&u&&(n=e[++r]);++r<u;)n=t(n,e[r],r,e);return n}function cn(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function $n(e,t){return e==null?void 0:e[t]}function bt(e){var t=!1;if(e!=null&&typeof e.toString!="function")try{t=!!(e+"")}catch(n){}return t}function Fe(e){var t=-1,n=Array(e.size);return e.forEach(function(i,r){n[++t]=[r,i]}),n}function he(e,t){return function(n){return e(t(n))}}function He(e){var t=-1,n=Array(e.size);return e.forEach(function(i){n[++t]=i}),n}var gn=Array.prototype,mn=Function.prototype,ee=Object.prototype,oe=j["__core-js_shared__"],Me=function(){var e=/[^.]+$/.exec(oe&&oe.keys&&oe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),ht=mn.toString,x=ee.hasOwnProperty,te=ee.toString,bn=RegExp("^"+ht.call(x).replace(zt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ke=on?j.Buffer:void 0,Ue=j.Symbol,Le=j.Uint8Array,hn=he(Object.getPrototypeOf,Object),pn=Object.create,yn=ee.propertyIsEnumerable,dn=gn.splice,Be=Object.getOwnPropertySymbols,wn=ke?ke.isBuffer:void 0,Sn=he(Object.keys,Object),ae=H(j,"DataView"),G=H(j,"Map"),se=H(j,"Promise"),fe=H(j,"Set"),ce=H(j,"WeakMap"),K=H(Object,"create"),En=W(ae),Tn=W(G),On=W(se),An=W(fe),_n=W(ce),qe=Ue?Ue.prototype:void 0,Ge=qe?qe.valueOf:void 0;function R(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function vn(){this.__data__=K?K(null):{}}function Nn(e){return this.has(e)&&delete this.__data__[e]}function jn(e){var t=this.__data__;if(K){var n=t[e];return n===Ke?void 0:n}return x.call(t,e)?t[e]:void 0}function In(e){var t=this.__data__;return K?t[e]!==void 0:x.call(t,e)}function xn(e,t){var n=this.__data__;return n[e]=K&&t===void 0?Ke:t,this}R.prototype.clear=vn;R.prototype.delete=Nn;R.prototype.get=jn;R.prototype.has=In;R.prototype.set=xn;function I(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Pn(){this.__data__=[]}function Dn(e){var t=this.__data__,n=ne(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():dn.call(t,n,1),!0}function Rn(e){var t=this.__data__,n=ne(t,e);return n<0?void 0:t[n][1]}function Wn(e){return ne(this.__data__,e)>-1}function Cn(e,t){var n=this.__data__,i=ne(n,e);return i<0?n.push([e,t]):n[i][1]=t,this}I.prototype.clear=Pn;I.prototype.delete=Dn;I.prototype.get=Rn;I.prototype.has=Wn;I.prototype.set=Cn;function J(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Vn(){this.__data__={hash:new R,map:new(G||I),string:new R}}function Jn(e){return re(this,e).delete(e)}function Fn(e){return re(this,e).get(e)}function Hn(e){return re(this,e).has(e)}function Mn(e,t){return re(this,e).set(e,t),this}J.prototype.clear=Vn;J.prototype.delete=Jn;J.prototype.get=Fn;J.prototype.has=Hn;J.prototype.set=Mn;function F(e){this.__data__=new I(e)}function kn(){this.__data__=new I}function Un(e){return this.__data__.delete(e)}function Ln(e){return this.__data__.get(e)}function Bn(e){return this.__data__.has(e)}function qn(e,t){var n=this.__data__;if(n instanceof I){var i=n.__data__;if(!G||i.length<Yt-1)return i.push([e,t]),this;n=this.__data__=new J(i)}return n.set(e,t),this}F.prototype.clear=kn;F.prototype.delete=Un;F.prototype.get=Ln;F.prototype.has=Bn;F.prototype.set=qn;function Gn(e,t){var n=ye(e)||pr(e)?cn(e.length,String):[],i=n.length,r=!!i;for(var u in e)(t||x.call(e,u))&&!(r&&(u=="length"||gr(u,i)))&&n.push(u);return n}function pt(e,t,n){var i=e[t];(!(x.call(e,t)&&St(i,n))||n===void 0&&!(t in e))&&(e[t]=n)}function ne(e,t){for(var n=e.length;n--;)if(St(e[n][0],t))return n;return-1}function Kn(e,t){return e&&yt(t,de(t),e)}function $e(e,t,n,i,r,u,a){var s;if(i&&(s=u?i(e,r,u,a):i(e)),s!==void 0)return s;if(!ie(e))return e;var m=ye(e);if(m){if(s=fr(e),!t)return lr(e,s)}else{var o=D(e),l=o==me||o==Ze;if(dr(e))return er(e,t);if(o==be||o==ge||l&&!u){if(bt(e))return u?e:{};if(s=cr(l?{}:e),!t)return ar(e,Kn(s,e))}else{if(!h[o])return u?e:{};s=$r(e,o,$e,t)}}a||(a=new F);var c=a.get(e);if(c)return c;if(a.set(e,s),!m)var y=n?sr(e):de(e);return sn(y||e,function(g,f){y&&(f=g,g=e[f]),pt(s,f,$e(g,t,n,i,f,e,a))}),s}function Qn(e){return ie(e)?pn(e):{}}function Yn(e,t,n){var i=t(e);return ye(e)?i:fn(i,n(e))}function Xn(e){return te.call(e)}function Zn(e){if(!ie(e)||br(e))return!1;var t=Tt(e)||bt(e)?bn:tn;return t.test(W(e))}function zn(e){if(!wt(e))return Sn(e);var t=[];for(var n in Object(e))x.call(e,n)&&n!="constructor"&&t.push(n);return t}function er(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}function pe(e){var t=new e.constructor(e.byteLength);return new Le(t).set(new Le(e)),t}function tr(e,t){var n=t?pe(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function nr(e,t,n){var i=t?n(Fe(e),!0):Fe(e);return mt(i,ln,new e.constructor)}function rr(e){var t=new e.constructor(e.source,en.exec(e));return t.lastIndex=e.lastIndex,t}function ir(e,t,n){var i=t?n(He(e),!0):He(e);return mt(i,an,new e.constructor)}function ur(e){return Ge?Object(Ge.call(e)):{}}function or(e,t){var n=t?pe(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function lr(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}function yt(e,t,n,i){n||(n={});for(var r=-1,u=t.length;++r<u;){var a=t[r],s=i?i(n[a],e[a],a,n,e):void 0;pt(n,a,s===void 0?e[a]:s)}return n}function ar(e,t){return yt(e,dt(e),t)}function sr(e){return Yn(e,de,dt)}function re(e,t){var n=e.__data__;return mr(t)?n[typeof t=="string"?"string":"hash"]:n.map}function H(e,t){var n=$n(e,t);return Zn(n)?n:void 0}var dt=Be?he(Be,Object):Er,D=Xn;(ae&&D(new ae(new ArrayBuffer(1)))!=z||G&&D(new G)!=X||se&&D(se.resolve())!=Ve||fe&&D(new fe)!=Z||ce&&D(new ce)!=le)&&(D=function(e){var t=te.call(e),n=t==be?e.constructor:void 0,i=n?W(n):void 0;if(i)switch(i){case En:return z;case Tn:return X;case On:return Ve;case An:return Z;case _n:return le}return t});function fr(e){var t=e.length,n=e.constructor(t);return t&&typeof e[0]=="string"&&x.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function cr(e){return typeof e.constructor=="function"&&!wt(e)?Qn(hn(e)):{}}function $r(e,t,n,i){var r=e.constructor;switch(t){case rt:return pe(e);case Ye:case Xe:return new r(+e);case z:return tr(e,i);case it:case ut:case ot:case lt:case at:case st:case ft:case ct:case $t:return or(e,i);case X:return nr(e,i,n);case ze:case tt:return new r(e);case et:return rr(e);case Z:return ir(e,i,n);case nt:return ur(e)}}function gr(e,t){return t=t==null?Qe:t,!!t&&(typeof e=="number"||nn.test(e))&&e>-1&&e%1==0&&e<t}function mr(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function br(e){return!!Me&&Me in e}function wt(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||ee;return e===n}function W(e){if(e!=null){try{return ht.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function hr(e){return $e(e,!0,!0)}function St(e,t){return e===t||e!==e&&t!==t}function pr(e){return yr(e)&&x.call(e,"callee")&&(!yn.call(e,"callee")||te.call(e)==ge)}var ye=Array.isArray;function Et(e){return e!=null&&wr(e.length)&&!Tt(e)}function yr(e){return Sr(e)&&Et(e)}var dr=wn||Tr;function Tt(e){var t=ie(e)?te.call(e):"";return t==me||t==Ze}function wr(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Qe}function ie(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function Sr(e){return!!e&&typeof e=="object"}function de(e){return Et(e)?Gn(e):zn(e)}function Er(){return[]}function Tr(){return!1}V.exports=hr});var Vr={};Jt(Vr,{del:()=>Cr,set:()=>Wr,version:()=>Dr});var Y=Pe(Ce(),1),Q=Pe(Ot(),1);var M="\xA0";function Or(e){let t={value:e,hungry:!1,optional:!1};return(t.value.endsWith("?*")||t.value.endsWith("*?"))&&t.value.length>2?(t.value=t.value.slice(0,t.value.length-2),t.optional=!0,t.hungry=!0):t.value.endsWith("?")&&t.value.length>1?(t.value=t.value.slice(0,~-t.value.length),t.optional=!0):t.value.endsWith("*")&&t.value.length>1&&(t.value=t.value.slice(0,~-t.value.length),t.hungry=!0),t}function Ar(e){return typeof e=="number"}function Se(e){return typeof e=="string"}function _r({str:e,idx:t=0,stopAtNewlines:n=!1,stopAtRawNbsp:i=!1}){if(typeof e!="string"||!e.length||((!t||typeof t!="number")&&(t=0),!e[t+1]))return null;if(e[t+1]&&(e[t+1].trim()||n&&`
\r`.includes(e[t+1])||i&&e[t+1]===M))return t+1;if(e[t+2]&&(e[t+2].trim()||n&&`
\r`.includes(e[t+2])||i&&e[t+2]===M))return t+2;for(let r=t+1,u=e.length;r<u;r++)if(e[r].trim()||n&&`
\r`.includes(e[r])||i&&e[r]===M)return r;return null}function C(e,t=0){return _r({str:e,idx:t,stopAtNewlines:!1,stopAtRawNbsp:!1})}function vr({str:e,idx:t,stopAtNewlines:n,stopAtRawNbsp:i}){if(typeof e!="string"||!e.length||((!t||typeof t!="number")&&(t=0),t<1))return null;if(e[~-t]&&(e[~-t].trim()||n&&`
\r`.includes(e[~-t])||i&&e[~-t]===M))return~-t;if(e[t-2]&&(e[t-2].trim()||n&&`
\r`.includes(e[t-2])||i&&e[t-2]===M))return t-2;for(let r=t;r--;)if(e[r]&&(e[r].trim()||n&&`
\r`.includes(e[r])||i&&e[r]===M))return r;return null}function P(e,t=0){return vr({str:e,idx:t,stopAtNewlines:!1,stopAtRawNbsp:!1})}function At(e,t,n,i,r){if(typeof t!="string"||!t.length||(typeof n!="number"&&(n=0),e==="right"&&!t[n+1]||e==="left"&&!t[~-n]))return null;let u=n,a=[],s,m,o,l=0;for(;l<r.length;){if(!Se(r[l])||!r[l].length){l+=1;continue}let{value:c,optional:y,hungry:g}=Or(r[l]),f=e==="right"?C(t,u):P(t,u);if(i.i&&t[f].toLowerCase()===c.toLowerCase()||!i.i&&t[f]===c){let d=e==="right"?C(t,f):P(t,f);g&&(i.i&&t[d].toLowerCase()===c.toLowerCase()||!i.i&&t[d]===c)?o=!0:l+=1,typeof f=="number"&&e==="right"&&f>u+1?a.push([u+1,f]):e==="left"&&typeof f=="number"&&f<~-u&&a.unshift([f+1,u]),u=f,e==="right"?(s===void 0&&(s=f),m=f):(m===void 0&&(m=f),s=f)}else if(y){l+=1;continue}else if(o){l+=1,o=void 0;continue}else return null}return s===void 0||m===void 0?null:{gaps:a,leftmostChar:s,rightmostChar:m}}var ue={i:!1};function Nr(e,t,...n){if(!(n!=null&&n.length))throw new Error("string-left-right/leftSeq(): only two input arguments were passed! Did you intend to use left() method instead?");let i;return(0,Y.default)(n[0])?i=S(S({},ue),n.shift()):i=ue,At("left",e,t,i,Array.from(n).reverse())}function jr(e,t,...n){if(!(n!=null&&n.length))throw new Error("string-left-right/rightSeq(): only two input arguments were passed! Did you intend to use right() method instead?");let i;return(0,Y.default)(n[0])?i=S(S({},ue),n.shift()):i=ue,At("right",e,t,i,n)}function we(e,t,n,i,r=[]){var m;if(typeof t!="string"||!t.length||((!n||typeof n!="number")&&(n=0),e==="right"&&!t[n+1]||e==="left"&&+n==0))return null;let u=null,a=null;do u=e==="right"?jr(t,typeof a=="number"?a:n,...r):Nr(t,typeof a=="number"?a:n,...r),u!==null&&(a=e==="right"?u.rightmostChar:u.leftmostChar);while(u);if(a!=null&&e==="right"&&(a+=1),a===null)return null;if(e==="right"){if((m=t[a])!=null&&m.trim())return a;let o=C(t,a);if(!i||i.mode===0){if(o===a+1)return a;if(t.slice(a,o||t.length).trim()||t.slice(a,o||t.length).includes(`
`)||t.slice(a,o||t.length).includes("\r")){for(let l=a,c=t.length;l<c;l++)if(`
\r`.includes(t[l]))return l}else return o?~-o:t.length}else{if(i.mode===1)return a;if(i.mode===2){let l=t.slice(a);if(l.trim()||l.includes(`
`)||l.includes("\r")){for(let c=a,y=t.length;c<y;c++)if(t[c].trim()||`
\r`.includes(t[c]))return c}return t.length}}return o||t.length}if(t[a]&&t[~-a]&&t[~-a].trim())return a;let s=P(t,a);if(!i||i.mode===0){if(s===a-2)return a;if(t.slice(0,a).trim()||t.slice(0,a).includes(`
`)||t.slice(0,a).includes("\r")){for(let o=a;o--;)if(`
\r`.includes(t[o])||t[o].trim())return o+1+(t[o].trim()?1:0)}return 0}if(i.mode===1)return a;if(i.mode===2){let o=t.slice(0,a);if(o.trim()||o.includes(`
`)||o.includes("\r")){for(let l=a;l--;)if(t[l].trim()||`
\r`.includes(t[l]))return l+1}return 0}return s!==null?s+1:0}function _t(e,t,...n){if(!n.length||n.length===1&&(0,Y.default)(n[0]))return null;let i={mode:0};if((0,Y.default)(n[0])){let r=S(S({},i),(0,Q.default)(n[0]));if(!r.mode)r.mode=0;else if(Se(r.mode)&&"0123".includes(r.mode))r.mode=Number.parseInt(r.mode,10);else if(!Ar(r.mode))throw new Error(`string-left-right/chompLeft(): [THROW_ID_01] the opts.mode is wrong! It should be 0, 1, 2 or 3. It was given as ${r.mode} (type ${typeof r.mode})`);return we("left",e,t,r,(0,Q.default)(n).slice(1))}return Se(n[0])?we("left",e,t,i,(0,Q.default)(n)):we("left",e,t,i,(0,Q.default)(n).slice(1))}var Ir={strictlyTwoElementsInRangeArrays:!1,progressFn:null};function Ee(e,t){if(!Array.isArray(e)||!e.length)return e;let n=S(S({},Ir),t),i,r;if(n.strictlyTwoElementsInRangeArrays&&!e.every((s,m)=>!Array.isArray(s)||s.length!==2?(i=m,r=s.length,!1):!0))throw new TypeError(`ranges-sort: [THROW_ID_03] The first argument should be an array and must consist of arrays which are natural number indexes representing TWO string index ranges. However, ${i}th range (${JSON.stringify(e[i],null,4)}) has not two but ${r} elements!`);if(!e.every((s,m)=>!Array.isArray(s)||!Number.isInteger(s[0])||s[0]<0||!Number.isInteger(s[1])||s[1]<0?(i=m,!1):!0))throw new TypeError(`ranges-sort: [THROW_ID_04] The first argument should be an array and must consist of arrays which are natural number indexes representing string index ranges. However, ${i}th range (${JSON.stringify(e[i],null,4)}) does not consist of only natural numbers!`);let u=e.length**2,a=0;return Array.from(e).sort((s,m)=>(n.progressFn&&(a+=1,n.progressFn(Math.floor(a*100/u))),s[0]===m[0]?s[1]<m[1]?-1:s[1]>m[1]?1:0:s[0]<m[0]?-1:1))}var vt={mergeType:1,progressFn:null,joinRangesThatTouchEdges:!0};function Nt(e,t){function n(o){return!!o&&typeof o=="object"&&!Array.isArray(o)}if(!Array.isArray(e)||!e.length)return null;let i;if(t)if(n(t)){if(i=S(S({},vt),t),i.progressFn&&n(i.progressFn)&&!Object.keys(i.progressFn).length)i.progressFn=null;else if(i.progressFn&&typeof i.progressFn!="function")throw new Error(`ranges-merge: [THROW_ID_01] opts.progressFn must be a function! It was given of a type: "${typeof i.progressFn}", equal to ${JSON.stringify(i.progressFn,null,4)}`);if(![1,2,"1","2"].includes(i.mergeType))throw new Error(`ranges-merge: [THROW_ID_02] opts.mergeType was customised to a wrong thing! It was given of a type: "${typeof i.mergeType}", equal to ${JSON.stringify(i.mergeType,null,4)}`);if(typeof i.joinRangesThatTouchEdges!="boolean")throw new Error(`ranges-merge: [THROW_ID_04] opts.joinRangesThatTouchEdges was customised to a wrong thing! It was given of a type: "${typeof i.joinRangesThatTouchEdges}", equal to ${JSON.stringify(i.joinRangesThatTouchEdges,null,4)}`)}else throw new Error(`emlint: [THROW_ID_03] the second input argument must be a plain object. It was given as:
${JSON.stringify(t,null,4)} (type ${typeof t})`);else i=S({},vt);let r=e.filter(o=>Array.isArray(o)).map(o=>[...o]).filter(o=>o[2]!==void 0||o[0]!==o[1]),u,a,s;i.progressFn?u=Ee(r,{progressFn:o=>{s=Math.floor(o/5),s!==a&&(a=s,i.progressFn(s))}}):u=Ee(r);let m=u.length-1;for(let o=m;o>0;o--)i.progressFn&&(s=Math.floor((1-o/m)*78)+21,s!==a&&s>a&&(a=s,i.progressFn(s))),(u[o][0]<=u[o-1][0]||!i.joinRangesThatTouchEdges&&u[o][0]<u[o-1][1]||i.joinRangesThatTouchEdges&&u[o][0]<=u[o-1][1])&&(u[o-1][0]=Math.min(u[o][0],u[o-1][0]),u[o-1][1]=Math.max(u[o][1],u[o-1][1]),u[o][2]!==void 0&&(u[o-1][0]>=u[o][0]||u[o-1][1]<=u[o][1])&&u[o-1][2]!==null&&(u[o][2]===null&&u[o-1][2]!==null?u[o-1][2]=null:u[o-1][2]!=null?+i.mergeType==2&&u[o-1][0]===u[o][0]?u[o-1][2]=u[o][2]:u[o-1][2]+=u[o][2]:u[o-1][2]=u[o][2]),u.splice(o,1),o=u.length);return u.length?u:null}var xr=!0,Te="Invariant failed";function jt(e,t){if(!e){if(xr)throw new Error(Te);var n=typeof t=="function"?t():t,i=n?Te+": "+n:Te;throw new Error(i)}}function Oe(e,t,n){let i=0,r=0;if(arguments.length===0)throw new Error("ranges-apply: [THROW_ID_01] inputs missing!");if(typeof e!="string")throw new TypeError(`ranges-apply: [THROW_ID_02] first input argument must be a string! Currently it's: ${typeof e}, equal to: ${JSON.stringify(e,null,4)}`);if(t&&!Array.isArray(t))throw new TypeError(`ranges-apply: [THROW_ID_03] second input argument must be an array (or null)! Currently it's: ${typeof t}, equal to: ${JSON.stringify(t,null,4)}`);if(n&&typeof n!="function")throw new TypeError(`ranges-apply: [THROW_ID_04] the third input argument must be a function (or falsey)! Currently it's: ${typeof n}, equal to: ${JSON.stringify(n,null,4)}`);if(!t||!t.filter(l=>l).length)return e;let u;Array.isArray(t)&&Number.isInteger(t[0])&&Number.isInteger(t[1])?u=[Array.from(t)]:u=Array.from(t);let a=u.length,s=0;u.filter(l=>l).forEach((l,c)=>{if(n&&(i=Math.floor(s/a*10),i!==r&&(r=i,n(i))),!Array.isArray(l))throw new TypeError(`ranges-apply: [THROW_ID_05] ranges array, second input arg., has ${c}th element not an array: ${JSON.stringify(l,null,4)}, which is ${typeof l}`);if(!Number.isInteger(l[0])){if(!Number.isInteger(+l[0])||+l[0]<0)throw new TypeError(`ranges-apply: [THROW_ID_06] ranges array, second input arg. has ${c}th element, array ${JSON.stringify(l,null,0)}. Its first element is not an integer, string index, but ${typeof l[0]}, equal to: ${JSON.stringify(l[0],null,4)}.`);u[c][0]=+u[c][0]}if(!Number.isInteger(l[1])){if(!Number.isInteger(+l[1])||+l[1]<0)throw new TypeError(`ranges-apply: [THROW_ID_07] ranges array, second input arg. has ${c}th element, array ${JSON.stringify(l,null,0)}. Its second element is not an integer, string index, but ${typeof l[1]}, equal to: ${JSON.stringify(l[1],null,4)}.`);u[c][1]=+u[c][1]}s+=1});let m=Nt(u,{progressFn:l=>{n&&(i=10+Math.floor(l/10),i!==r&&(r=i,n(i)))}});jt(m);let o=m.length;if(o>0){let l=e.slice(m[o-1][1]);e=m.reduce((c,y,g,f)=>{n&&(i=20+Math.floor(g/o*80),i!==r&&(r=i,n(i)));let d=g===0?0:f[g-1][1],O=f[g][0];return`${c}${e.slice(d,O)}${f[g][2]||""}`},""),e+=l}return e}var It="0.7.2";var Dr=It;function k(e){return typeof e=="string"}function xt(e){return Array.isArray(e)?e.join("."):k(e)?e:String(e)}function Rr(e){return k(e)&&e.startsWith('"')&&e.endsWith('"')?`${JSON.stringify(e.slice(1,e.length-1),null,0)}`:JSON.stringify(e,null,0)}function _(e,t){if(e[t]!=="\\")return!0;let n=_t(e,t,{mode:1},"\\");return typeof n=="number"&&(t-n)%2!==0}function Pt({str:e,path:t,valToInsert:n,mode:i}){var _e;let r=0;function u(T){e[r]}let a=e.length,s=[];u(`077 main(): MODE=${i}`);let m=["{","}","[","]",":",","],o=n;k(n)&&!n.startsWith('"')&&!n.startsWith("{")&&(o=`"${n}"`);let l=[],c=[],y=!1,g=!1,f=!1,d=null,O=null,$=null,v=null,N=null,U=null,p;function Ae(){return typeof p=="number"}let E=!1,w=[];function L(){d=null,O=null,$=null,v=null,N=null,U=null}L();let b=[];for(r=0;r<a;r++){if(u(`
\x1B[${36}m===============================\x1B[${39}m \x1B[${35}m${`str[ ${r} ] = ${(_e=e[r])!=null&&_e.trim()?e[r]:JSON.stringify(e[r],null,0)}`}\x1B[${39}m \x1B[${36}m===============================\x1B[${39}m
`),typeof p!="number"&&e[r-1]==="["&&(g=!0,e[r]!=="]"&&(y=!1)),typeof p!="number"&&e[r-1]==="{"&&(y=!0,e[r]!=="}"&&(g=!1)),typeof p!="number"&&e[r]==="{"&&_(e,r-1)&&!f&&(g&&(E||(u(`198 ${`\x1B[${33}mcurrentPath\x1B[${39}m`} = ${JSON.stringify(b,null,4)}`),b[b.length-1]=b[b.length-1]+1,u(`207 ${`\x1B[${32}mSET\x1B[${39}m`} ${`\x1B[${33}m${`currentPath[${b.length-1}]`}\x1B[${39}m`} = ${b[b.length-1]}`))),l.push(r),u(`215 ${`\x1B[${32}mPUSH\x1B[${39}m`} ${`\x1B[${33}mwithinObjectIndexes\x1B[${39}m`} = ${JSON.stringify(l,null,4)}`)),typeof p!="number"&&e[r]==="}"&&_(e,r-1)&&!f&&(l.pop(),u(`231 ${`\x1B[${31}mPOP\x1B[${39}m`} ${`\x1B[${33}mwithinObjectIndexes\x1B[${39}m`} = ${JSON.stringify(l,null,4)}`)),typeof p!="number"&&e[r]==="]"&&_(e,r-1)&&!f&&(c.pop(),u(`248 ${`\x1B[${32}mPOP\x1B[${39}m`} ${`\x1B[${33}mwithinArrayIndexes\x1B[${39}m`} = ${JSON.stringify(c,null,4)}`),b.pop(),u(`256 POP path, now = ${JSON.stringify(b,null,4)}`),u(`258 ${`\x1B[${31}mRESET\x1B[${39}m`}`),L(),E&&(E=!1,u(`267 ${`\x1B[${32}mSET\x1B[${39}m`} ${`\x1B[${33}mitsTheFirstElem\x1B[${39}m`} = ${E}`))),typeof p!="number"&&e[r]==="]"&&(c.length?c.length&&(!l.length||c[c.length-1]>l[l.length-1])&&(g=!0):(g=!1,l.length&&!y&&(y=!0))),typeof p!="number"&&e[r]==="}"&&(l.length?(!c.length||l[l.length-1]>c[c.length-1])&&(y=!0):y=!1),g&&xt(t)===b.join(".")&&!f&&e[r].trim()&&(f=!0,u(`329 ${`\x1B[${32}mSET\x1B[${39}m`} ${`\x1B[${33}mreplaceThisValue\x1B[${39}m`} = ${f}`),$=r,u(`334 ${`\x1B[${32}mSET\x1B[${39}m`} ${`\x1B[${33}mvalueStartedAt\x1B[${39}m`} = ${$}`)),typeof p!="number"&&e[r]==="["&&_(e,r-1)&&!f&&(c.push(r),E=!0,u(`348 ${`\x1B[${32}mPUSH\x1B[${39}m`} ${`\x1B[${33}mwithinArrayIndexes\x1B[${39}m`} = ${JSON.stringify(c,null,4)}; ${`\x1B[${33}mitsTheFirstElem\x1B[${39}m`} = ${E}`),b.push(0),u(`359 ${`\x1B[${32}mPUSH\x1B[${39}m`} zero to path, now = ${JSON.stringify(b,null,0)}`)),g&&e[r]===","&&E&&!(typeof $=="number"&&v===null)&&(E=!1,u(`379 ${`\x1B[${32}mSET\x1B[${39}m`} ${`\x1B[${33}mitsTheFirstElem\x1B[${39}m`} = ${E}`)),!f&&$===null&&e[r].trim()&&!m.includes(e[r])&&(g||!g&&N!==null)&&(u("415 catching the start of a value clauses"),$=r,u(`418 ${`\x1B[${32}mSET\x1B[${39}m`} ${`\x1B[${33}mvalueStartedAt\x1B[${39}m`} = ${$}`),g&&(E?(E=!1,u(`426 ${`\x1B[${32}mSET\x1B[${39}m`} ${`\x1B[${33}mitsTheFirstElem\x1B[${39}m`} = ${E}`)):typeof b[b.length-1]=="number"&&(b[b.length-1]=b[b.length-1]+1,u(`432 ${`\x1B[${32}mSET\x1B[${39}m`} ${`\x1B[${33}m${`currentPath[${b.length-1}]`}\x1B[${39}m`} = ${b[b.length-1]}`)))),!f&&typeof p!="number"&&(g||!g&&N!==null)&&typeof $=="number"&&$<r&&v===null&&(e[$]==='"'&&e[r]==='"'&&e[r-1]!=="\\"||e[$]!=='"'&&!e[r].trim()||["}",","].includes(e[r]))&&(u("451 catching the end of a value clauses"),U=e.slice($,e[$]==='"'?r+1:r),u(`457 ${`\x1B[${32}mSET\x1B[${39}m`} ${`\x1B[${33}mkeyValue\x1B[${39}m`} = ${U}`),v=r,u(`461 ${`\x1B[${32}mSET\x1B[${39}m`} ${`\x1B[${33}mvalueEndedAt\x1B[${39}m`} = ${v}`)),!f&&!g&&e[r]==='"'&&e[r-1]!=="\\"&&N===null&&d===null&&O===null&&e[r+1]&&(d=r+1,u(`478 ${`\x1B[${32}mSET\x1B[${39}m`} ${`\x1B[${33}mkeyStartedAt\x1B[${39}m`} = ${d}`)),!f&&!g&&e[r]==='"'&&e[r-1]!=="\\"&&O===null&&typeof d=="number"&&$===null&&d<r&&(O=r+1,N=e.slice(d,r),u(`501 ${`\x1B[${32}mSET\x1B[${39}m`} ${`\x1B[${33}mkeyEndedAt\x1B[${39}m`} = ${O};  ${`\x1B[${33}mkeyName\x1B[${39}m`} = ${N}`),b.push(N),u(`506 PUSH to path, now = ${JSON.stringify(b,null,4)}`),xt(t)===b.join(".")&&(f=!0,u(`515 ${`\x1B[${32}mSET\x1B[${39}m`} ${`\x1B[${33}mreplaceThisValue\x1B[${39}m`} = ${f}`))),!f&&typeof p!="number"&&e[r]===","&&y&&(b.pop(),u(`535 POP(), now ${`\x1B[${33}mcurrentPath\x1B[${39}m`} = ${JSON.stringify(b,null,0)}`)),!f&&(typeof v=="number"&&r>=v||["}","]"].includes(e[P(e,r)])&&["}","]"].includes(e[r])||e[r]==="}"&&e[P(e,r)]==="{")&&e[r].trim()&&(u(`552 ${`\x1B[${36}m\u2588\u2588\x1B[${39}m`} catch the end of a key-value pair clauses`),e[r]===","&&!["}","]"].includes(e[C(e,r)])?(u(`555 ${`\x1B[${31}mRESET\x1B[${39}m`}`),L()):e[r]==="}"&&(u("558 closing curlie caught"),(v||e[P(e,r)]!=="{")&&(b.pop(),u(`569 POP(), now ${`\x1B[${33}mcurrentPath\x1B[${39}m`} = ${JSON.stringify(b,null,0)}`)),u(`577 currently, currentlyWithinObject: ${y}`),u(`578 currently, currentlyWithinArray: ${g}`),c.length&&l.length&&c[c.length-1]>l[l.length-1]&&(y=!1,g=!0),u(`616 ${`\x1B[${31}mRESET\x1B[${39}m`}`),L())),!f&&e[r]==="{"&&k(N)&&$===null&&U===null&&(u(`630 ${`\x1B[${31}mRESET\x1B[${39}m`}`),L()),e[r].trim()&&f&&$===null&&typeof O=="number"&&r>O&&![":"].includes(e[r])&&($=r,u(`644 ${`\x1B[${32}mSET\x1B[${39}m`} ${`\x1B[${33}mvalueStartedAt\x1B[${39}m`} = ${$}`)),e[r]==='"'&&_(e,r-1)&&(typeof d=="number"&&O===null||typeof $=="number"&&v===null)&&typeof p!="number"&&(p=r,u(`658 SET ${`\x1B[${33}mwithinQuotesSince\x1B[${39}m`} = ${p}; withinQuotes = ${Ae()}`)),w.length&&e[r]===w[w.length-1]&&_(e,r-1)?(w.pop(),u(`677 ${`\x1B[${32}mPOP\x1B[${39}m`} skipUntilTheFollowingIsMet = ${JSON.stringify(w,null,4)}`)):(typeof p!="number"||p===r)&&f&&!g&&typeof $=="number"&&(e[r]==="{"&&_(e,r-1)?(w.push("}"),u(`695 ${`\x1B[${32}mPUSH\x1B[${39}m`} ${`\x1B[${33}mskipUntilTheFollowingIsMet\x1B[${39}m`} = ${JSON.stringify(w,null,4)}`)):e[r]==="["&&_(e,r-1)?(w.push("]"),u(`705 ${`\x1B[${32}mPUSH\x1B[${39}m`} ${`\x1B[${33}mskipUntilTheFollowingIsMet\x1B[${39}m`} = ${JSON.stringify(w,null,4)}`)):e[r]==='"'&&_(e,r-1)&&(w.push('"'),u(`715 ${`\x1B[${32}mPUSH\x1B[${39}m`} ${`\x1B[${33}mskipUntilTheFollowingIsMet\x1B[${39}m`} = ${JSON.stringify(w,null,4)}`))),e[r]==='"'&&_(e,r-1)&&typeof p=="number"&&p!==r&&(p=void 0,u(`753 RESET ${`\x1B[${33}mwithinQuotesSince\x1B[${39}m`} = ${p}; withinQuotes = ${Ae()}`)),f&&Array.isArray(w)&&!w.length&&typeof $=="number"&&r>$&&(u("766 within catch the end of the value when replaceThisValue is on clauses"),typeof p!="number"&&(e[$]==="["&&e[r]==="]"||e[$]==="{"&&e[r]==="}"||e[$]==='"'&&e[r]==='"'||!["[","{",'"'].includes(e[$])&&e[$].trim()&&(!e[r].trim()||m.includes(e[r])&&_(e,r-1))))){if(u(`780 INSIDE CATCH-END CLAUSES currently ${`\x1B[${33}m${`str[valueStartedAt=${$}]`}\x1B[${39}m`} = ${JSON.stringify(e[$],null,4)}`),i==="set"){u(`789 ${`\x1B[${32}mRETURN\x1B[${39}m`}`);let T="";e.slice($,r+(e[r].trim()?1:0)).includes(`
`)&&e[r+(e[r].trim()?1:0)]!==`
`&&(T=`
`);let A=r+(e[r].trim()?1:0);return(g&&!['"',"[","{"].includes(e[$])&&e[C(e,A-1)]!=="]"||e[A-1]===","&&e[$-1]!=='"')&&(A-=1),g&&e[$-1]==='"'&&($=$-1),`${e.slice(0,$)}${Rr(o)}${T}${e.slice(A)}`}if(i==="del"){u(`848 ${`\x1B[${32}mRETURN\x1B[${39}m`}`),u(`851 ${`\x1B[${33}mkeyStartedAt\x1B[${39}m`} = ${JSON.stringify(d,null,4)}; val = ${(g?$:d)-1}`);let T=P(e,(g?$:d)-1);typeof T=="number"&&T++,u(`864 ${`\x1B[${32}mSET\x1B[${39}m`} initial ${`\x1B[${33}mstartingPoint\x1B[${39}m`} = ${T}`);let A=r+(e[r].trim()?1:0);typeof T=="number"&&e[T-1]===","&&["}","]"].includes(e[C(e,A-1)])&&(T-=1,u(`873 SET ${`\x1B[${33}mstartingPoint\x1B[${39}m`} = ${T}`)),e[A]===","&&(A+=1,u(`879 SET ${`\x1B[${33}mendingPoint\x1B[${39}m`} = ${A}`)),u(`883 ${`\x1B[${33}mstartingPoint\x1B[${39}m`} = ${JSON.stringify(T,null,4)}; ${`\x1B[${33}mendingPoint\x1B[${39}m`} = ${JSON.stringify(A,null,4)};`),s.push([T,A]),u(`896 ${`\x1B[${32}mFINAL PUSH\x1B[${39}m`} ${`\x1B[${33}mranges\x1B[${39}m`} = ${JSON.stringify(s,null,4)}`),u(`902 then ${`\x1B[${31}mBREAK\x1B[${39}m`}`);break}}u(`${`\x1B[${p?32:31}m${`withinQuotesSince${typeof p=="number"?`=${p}`:""}`}\x1B[${39}m`}; ${`\x1B[${y?32:31}mcurrentlyWithinObject\x1B[${39}m`}; ${`\x1B[${g?32:31}mcurrentlyWithinArray\x1B[${39}m`}; ${`\x1B[${f?32:31}mreplaceThisValue\x1B[${39}m`}; ${`\x1B[${E?32:31}mitsTheFirstElem\x1B[${39}m`}; ${`\x1B[${w.length?32:31}m${`skipUntilTheFollowingIsMet${w?`: ${JSON.stringify(w,null,0)}`:""}`}\x1B[${39}m`}`),u(`current path: ${JSON.stringify(b.join("."),null,0)}`),u(`${`\x1B[${33}mkeyName\x1B[${39}m`} = ${N}; ${`\x1B[${33}mkeyValue\x1B[${39}m`} = ${U}; ${`\x1B[${33}mkeyStartedAt\x1B[${39}m`} = ${d}; ${`\x1B[${33}mkeyEndedAt\x1B[${39}m`} = ${O}; ${`\x1B[${33}mvalueStartedAt\x1B[${39}m`} = ${$}; ${`\x1B[${33}mvalueEndedAt\x1B[${39}m`} = ${v}`),u(`${`\x1B[${33}mwithinArrayIndexes\x1B[${39}m`} = ${JSON.stringify(c,null,0)}; ${`\x1B[${33}mwithinObjectIndexes\x1B[${39}m`} = ${JSON.stringify(l,null,0)};`)}return u(`
\x1B[${36}m=============================== FIN.\x1B[${39}m`),u(`947 RETURN applied ${JSON.stringify(Oe(e,s),null,4)}`),Oe(e,s)}function Wr(e,t,n){if(!k(e)||!e.length)throw new Error(`edit-package-json/set(): [THROW_ID_01] first input argument must be a non-empty string. It was given as ${JSON.stringify(e,null,4)} (type ${typeof e})`);return Pt({str:e,path:t,valToInsert:n,mode:"set"})}function Cr(e,t){if(!k(e)||!e.length)throw new Error(`edit-package-json/del(): [THROW_ID_02] first input argument must be a non-empty string. It was given as ${JSON.stringify(e,null,4)} (type ${typeof e})`);return Pt({str:e,path:t,mode:"del"})}return Ft(Vr);})();
/**
 * @name ranges-apply
 * @fileoverview Take an array of string index ranges, delete/replace the string according to them
 * @version 6.2.2
 * @author Roy Revelt, Codsen Ltd
 * @license MIT
 * {@link https://codsen.com/os/ranges-apply/}
 */
/**
 * @name ranges-merge
 * @fileoverview Merge and sort string index ranges
 * @version 8.2.2
 * @author Roy Revelt, Codsen Ltd
 * @license MIT
 * {@link https://codsen.com/os/ranges-merge/}
 */
/**
 * @name ranges-sort
 * @fileoverview Sort string index ranges
 * @version 5.1.1
 * @author Roy Revelt, Codsen Ltd
 * @license MIT
 * {@link https://codsen.com/os/ranges-sort/}
 */
/**
 * @name string-left-right
 * @fileoverview Looks up the first non-whitespace character to the left/right of a given index
 * @version 5.1.2
 * @author Roy Revelt, Codsen Ltd
 * @license MIT
 * {@link https://codsen.com/os/string-left-right/}
 */
